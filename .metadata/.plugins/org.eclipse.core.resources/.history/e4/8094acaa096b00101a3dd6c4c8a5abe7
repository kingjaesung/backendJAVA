package com.jdbc;

import java.io.IOException;
import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.DriverManager;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class DBCconnectServlet
 */
@WebServlet("/connect")
public class DBCconnectServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;

	protected void doGet(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		
		response.setContentType("text/html; charset = UTF-8 ");
		
		PrintWriter out = response.getWriter();
		
		out.println("<!DOCTYPE html><html><head><meta charset='UTF-8/>");
		out.println("<title>데이터 베이쑤</title>");
		out.println("<link rel = 'icon' href='data:,'>");
		out.println("</head><body>");
		out.println("<h3>데이터베이스 드라이버와 Oracle 서버 연결 점ㄱ머 프로그램</h3><hr/>");

		try {
			String driverName = "oracle.jdbc.driver.OracleDriver";
			String dbURL = "jdbc:oracle:thin:@localhost:1521/xepdb1";
			
			Class.forName(driverName);
			// JVM에 드라이버 클래스를 로딩해서 JDBC 드라이버를 등록하는 열갛ㄹ
			// 자바에서 클래스 이름(문자열)을 이용해 해당 클래스를 메모리에 로딩 메서드
			// driverName 변수 내부에 문자열의 이름을 가진클래스를
			// JVM메모리에 올리고 클래스 초기화(정적 초기화 블록 등 실행)를 수행
			
			try (Connection conn = DriverManager.getConnection(driverName))
			
		} catch (Exception e) {
			// TODO: handle exception
		}
		
		
			
	protected void doPost(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {

		doGet(request, response);
	}

}
